@import "tailwindcss";

@theme {
  /* Dynamic Palette - Sync with theme.ts */
  --color-dark-50: #f3f9ff;
  --color-dark-100: #dfe9f7;
  --color-dark-200: #8fa2c3;
  --color-dark-800: #0f1a2b;
  --color-dark-900: #070d18;

  --color-primary: #38d7c3;
  --color-secondary: #66a3ff;

  --color-success: #44d79f;
  --color-warning: #f2c05e;
  --color-danger: #ff6c7a;

  --font-sans: "Space Grotesk", "Inter", "ui-sans-serif", "system-ui", "-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "Arial", "sans-serif";
  --font-mono: "JetBrains Mono", "ui-monospace", "SFMono-Regular", "Menlo", "Monaco", "Consolas", "Liberation Mono", "Courier New", "monospace";
}

@layer base {
  :root {
    --brand-primary: #38d7c3;
    --brand-secondary: #66a3ff;
    --card-bg: rgba(10, 18, 30, 0.74);
    --card-border: rgba(143, 162, 195, 0.18);
    --soft-glow: 0 0 0 1px rgba(56, 215, 195, 0.08), 0 24px 80px -40px rgba(0, 0, 0, 0.8);
    --bg-layer-top-left: rgba(56, 215, 195, 0.16);
    --bg-layer-top-right: rgba(102, 163, 255, 0.16);
    --bg-base-start: #070d18;
    --bg-base-mid: #0a1220;
    --bg-base-end: #070d18;
    --grid-stroke: rgba(143, 162, 195, 0.12);
    --grid-mask: radial-gradient(circle at center, black, transparent 75%);
    --selection-bg: rgba(56, 215, 195, 0.28);
    --selection-text: #ffffff;
  }

  [data-theme="light"] {
    --color-dark-50: #f8fbff;
    --color-dark-100: #162033;
    --color-dark-200: #5d718f;
    --color-dark-800: #ffffff;
    --color-dark-900: #eef4fb;

    --color-primary: #1baea0;
    --color-secondary: #3f80ea;

    --brand-primary: #1baea0;
    --brand-secondary: #3f80ea;
    --card-bg: rgba(255, 255, 255, 0.78);
    --card-border: rgba(26, 38, 64, 0.1);
    --soft-glow: 0 0 0 1px rgba(63, 128, 234, 0.08), 0 20px 56px -36px rgba(14, 29, 58, 0.28);
    --bg-layer-top-left: rgba(27, 174, 160, 0.13);
    --bg-layer-top-right: rgba(63, 128, 234, 0.13);
    --bg-base-start: #f7fbff;
    --bg-base-mid: #edf3fb;
    --bg-base-end: #f4f8fd;
    --grid-stroke: rgba(93, 113, 143, 0.12);
    --grid-mask: radial-gradient(circle at center, black, transparent 78%);
    --selection-bg: rgba(63, 128, 234, 0.2);
    --selection-text: #0f1c33;
  }

  body {
    @apply bg-dark-900 text-dark-100 min-h-screen font-sans antialiased text-[13px] sm:text-sm;
    background:
      radial-gradient(1300px 700px at 10% -10%, var(--bg-layer-top-left), transparent 60%),
      radial-gradient(1000px 620px at 100% 0%, var(--bg-layer-top-right), transparent 55%),
      linear-gradient(165deg, var(--bg-base-start), var(--bg-base-mid) 45%, var(--bg-base-end));
    line-height: 1.5;
    letter-spacing: 0.01em;
    position: relative;
    transition: background 260ms ease, color 220ms ease;
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    opacity: 0.28;
    background-image:
      linear-gradient(var(--grid-stroke) 1px, transparent 1px),
      linear-gradient(90deg, var(--grid-stroke) 1px, transparent 1px);
    background-size: 52px 52px;
    mask-image: var(--grid-mask);
  }

  ::selection {
    background: var(--selection-bg);
    color: var(--selection-text);
  }
}

@layer components {
  .card {
    @apply rounded-2xl border p-4 sm:p-5 transition-all duration-300;
    border-color: var(--card-border);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0)),
      var(--card-bg);
    backdrop-filter: blur(18px);
    box-shadow: var(--soft-glow);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-xs sm:text-sm font-bold text-white transition-all active:scale-[0.98] disabled:opacity-50;
    border: 1px solid rgba(102, 163, 255, 0.35);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.16), rgba(255, 255, 255, 0)),
      linear-gradient(110deg, rgba(56, 215, 195, 0.8), rgba(102, 163, 255, 0.8));
    box-shadow: 0 10px 26px -14px rgba(56, 215, 195, 0.75);
  }

  .btn-primary:hover {
    filter: brightness(1.08) saturate(1.05);
    box-shadow: 0 16px 38px -18px rgba(56, 215, 195, 0.9);
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-2 text-xs sm:text-sm font-semibold text-dark-200 transition-all;
    border: 1px solid rgba(143, 162, 195, 0.24);
    background: rgba(10, 18, 30, 0.42);
  }

  .btn-ghost:hover {
    color: #eaf4ff;
    border-color: rgba(102, 163, 255, 0.4);
    background: rgba(102, 163, 255, 0.08);
  }

  [data-theme="light"] .btn-ghost:hover {
    color: #0f1c33;
    border-color: rgba(63, 128, 234, 0.36);
    background: rgba(63, 128, 234, 0.12);
  }

  .input-field {
    @apply w-full rounded-xl px-3 py-2 text-xs sm:text-sm text-dark-100 outline-none transition-all;
    border: 1px solid rgba(143, 162, 195, 0.2);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0)),
      rgba(8, 14, 24, 0.62);
  }

  .input-field:focus {
    border-color: rgba(56, 215, 195, 0.5);
    box-shadow: 0 0 0 4px rgba(56, 215, 195, 0.15);
    background-color: rgba(10, 18, 30, 0.9);
  }

  [data-theme="light"] .input-field {
    color: #0f1c33;
    border-color: rgba(63, 128, 234, 0.26);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0)),
      rgba(255, 255, 255, 0.92);
  }

  [data-theme="light"] .input-field::placeholder {
    color: rgba(15, 28, 51, 0.5);
  }

  [data-theme="light"] .input-field:focus {
    border-color: rgba(63, 128, 234, 0.5);
    box-shadow: 0 0 0 4px rgba(63, 128, 234, 0.14);
    background: #ffffff;
  }

  .dashboard-grid {
    @apply grid gap-4 sm:gap-6;
  }

  .theme-toggle-btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-[10px] font-bold uppercase tracking-widest transition-all;
    color: #dfe9f7;
    border: 1px solid rgba(143, 162, 195, 0.24);
    background: rgba(10, 18, 30, 0.45);
  }

  .theme-toggle-btn:hover {
    color: #ffffff;
    border-color: rgba(56, 215, 195, 0.45);
    background: rgba(56, 215, 195, 0.1);
  }

  [data-theme="light"] .theme-toggle-btn {
    color: #334a6a;
    border-color: rgba(93, 113, 143, 0.28);
    background: rgba(255, 255, 255, 0.6);
  }

  [data-theme="light"] .theme-toggle-btn:hover {
    color: #0f1c33;
    border-color: rgba(63, 128, 234, 0.42);
    background: rgba(63, 128, 234, 0.14);
  }

  [data-theme="light"] select.input-field {
    color: #0f1c33;
    border-color: rgba(63, 128, 234, 0.26);
    background: rgba(255, 255, 255, 0.92);
  }

  [data-theme="light"] select.input-field:focus {
    border-color: rgba(63, 128, 234, 0.5);
    box-shadow: 0 0 0 4px rgba(63, 128, 234, 0.14);
    background: #ffffff;
  }

  [data-theme="light"] select.input-field option {
    color: #0f1c33;
    background: #ffffff;
  }
}

@layer utilities {
  .glass-outline {
    border: 1px solid rgba(143, 162, 195, 0.22);
    background:
      linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0)),
      rgba(10, 18, 30, 0.58);
    box-shadow: var(--soft-glow);
  }
}
